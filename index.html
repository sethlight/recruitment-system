<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>æ¡ç”¨ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ï¼ˆç¤¾å†…å…±æœ‰ç‰ˆï¼‰</title>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .lucide { width: 1em; height: 1em; fill: none; stroke: currentColor; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round;}
    .draggable { cursor: grab; }
    .dragging { opacity: 0.5; }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect, useCallback } = React;

    // -------- ã‚¢ã‚¤ã‚³ãƒ³ç•¥ï¼ˆå‰²æ„›ã€å‰å›ã®ã¾ã¾ã§OKï¼‰ --------

    // å®šæ•°ãƒ»ãƒ‡ãƒ¼ã‚¿ã¯ãã®ã¾ã¾

    // -- å„ç¨®å®šæ•° ã“ã“ã¯å…ƒã®ã¾ã¾ã§OK -- 

    // ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
    function uuid() { return '_' + Math.random().toString(36).substr(2, 9); }

    // --- å€™è£œè€…è¿½åŠ ãƒ»ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ« ---
    function CandidateModal({ open, onClose, onSave, candidate, customFields }) {
      const [values, setValues] = useState(() => candidate || {
        id: uuid(),
        name: '',
        ...Object.fromEntries(customFields.map(f=>[f.id, ''])),
        createdAt: new Date().toISOString(),
        history: [],
      });

      useEffect(() => {
        if (candidate) setValues(candidate);
      }, [candidate]);

      if (!open) return null;
      return (
        <div className="fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50">
          <div className="bg-white p-6 rounded shadow max-w-sm w-full">
            <h2 className="font-bold mb-2">{candidate ? "å€™è£œè€…ç·¨é›†" : "æ–°è¦å€™è£œè€…è¿½åŠ "}</h2>
            <div className="mb-2">
              <label className="block text-xs mb-1">æ°å*</label>
              <input className="border px-2 py-1 rounded w-full"
                value={values.name}
                onChange={e=>setValues(v=>({...v, name: e.target.value}))}
              />
            </div>
            {customFields.map(f=>(
              <div className="mb-2" key={f.id}>
                <label className="block text-xs mb-1">{f.name}{f.required && '*'}</label>
                <input
                  className="border px-2 py-1 rounded w-full"
                  type={f.type==='number'?'number':'text'}
                  value={values[f.id]||''}
                  onChange={e=>setValues(v=>({...v, [f.id]:e.target.value}))}
                />
              </div>
            ))}
            <div className="flex space-x-2 justify-end mt-4">
              <button className="bg-gray-200 rounded px-3 py-1" onClick={onClose}>ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
              <button className="bg-blue-600 text-white rounded px-3 py-1"
                onClick={()=>{onSave(values);onClose();}}>ä¿å­˜</button>
            </div>
          </div>
        </div>
      );
    }

    // --- ãƒ•ã‚§ãƒ¼ã‚ºç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ« ---
    function PhaseEditModal({ open, onClose, phases, onSave }) {
      const [localPhases, setLocalPhases] = useState(phases);
      useEffect(()=>{ setLocalPhases(phases.map(p=>({...p})) ); }, [phases]);
      if(!open) return null;
      return (
        <div className="fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50">
          <div className="bg-white p-6 rounded shadow w-full max-w-md">
            <h2 className="font-bold mb-3">ãƒ•ã‚§ãƒ¼ã‚ºç·¨é›†</h2>
            <div className="space-y-2">
              {localPhases.map((phase,i)=>(
                <div key={phase.id} className="flex space-x-2 items-center">
                  <input className="border rounded px-2 py-1 w-28"
                    value={phase.name}
                    onChange={e=>{
                      const arr=[...localPhases]; arr[i].name = e.target.value; setLocalPhases(arr);
                    }}
                  />
                  <select value={phase.color} onChange={e=>{
                    const arr=[...localPhases]; arr[i].color=e.target.value; setLocalPhases(arr);
                  }}>
                    <option value="">è‰²</option>
                    {AVAILABLE_COLORS.map(c=>
                      <option key={c.value} value={c.value}>{c.label}</option>
                    )}
                  </select>
                  <button className="text-red-500" onClick={()=>{
                    setLocalPhases(ph=>ph.filter((_,j)=>j!==i));
                  }}>å‰Šé™¤</button>
                </div>
              ))}
              <button className="bg-blue-100 rounded px-3 py-1 mt-2" onClick={()=>
                setLocalPhases([...localPhases, {id: uuid(), name:'æ–°è¦ãƒ•ã‚§ãƒ¼ã‚º', color:'bg-gray-500', candidates:[]}])
              }>ï¼‹è¿½åŠ </button>
            </div>
            <div className="flex space-x-2 justify-end mt-4">
              <button className="bg-gray-200 rounded px-3 py-1" onClick={onClose}>é–‰ã˜ã‚‹</button>
              <button className="bg-blue-600 text-white rounded px-3 py-1"
                onClick={()=>{onSave(localPhases);onClose();}}>ä¿å­˜</button>
            </div>
          </div>
        </div>
      );
    }

    // --- ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ« ---
    function FieldEditModal({ open, onClose, fields, onSave }) {
      const [localFields, setLocalFields] = useState(fields);
      useEffect(()=>{ setLocalFields(fields.map(f=>({...f}))); }, [fields]);
      if(!open) return null;
      return (
        <div className="fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50">
          <div className="bg-white p-6 rounded shadow w-full max-w-md">
            <h2 className="font-bold mb-3">ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç·¨é›†</h2>
            <div className="space-y-2">
              {localFields.map((f,i)=>(
                <div key={f.id} className="flex space-x-2 items-center">
                  <input className="border px-2 py-1 rounded w-28"
                    value={f.name} onChange={e=>{
                      const arr=[...localFields]; arr[i].name=e.target.value; setLocalFields(arr);
                    }}/>
                  <select value={f.type} onChange={e=>{
                    const arr=[...localFields]; arr[i].type=e.target.value; setLocalFields(arr);
                  }}>
                    {FIELD_TYPES.map(ft=>
                      <option key={ft.value} value={ft.value}>{ft.label}</option>
                    )}
                  </select>
                  <label>
                    <input type="checkbox" checked={f.required} onChange={e=>{
                      const arr=[...localFields]; arr[i].required=e.target.checked; setLocalFields(arr);
                    }}/>å¿…é ˆ
                  </label>
                  <button className="text-red-500" onClick={()=>setLocalFields(localFields.filter((_,j)=>j!==i))}>å‰Šé™¤</button>
                </div>
              ))}
              <button className="bg-blue-100 rounded px-3 py-1 mt-2" onClick={()=>
                setLocalFields([...localFields, {id:uuid(), name:'æ–°ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰', type:'text', required:false}])
              }>ï¼‹è¿½åŠ </button>
            </div>
            <div className="flex space-x-2 justify-end mt-4">
              <button className="bg-gray-200 rounded px-3 py-1" onClick={onClose}>é–‰ã˜ã‚‹</button>
              <button className="bg-blue-600 text-white rounded px-3 py-1"
                onClick={()=>{onSave(localFields);onClose();}}>ä¿å­˜</button>
            </div>
          </div>
        </div>
      );
    }

    // --- ãƒ‡ãƒ¼ã‚¿ç®¡ç†ï¼ˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ/ã‚¤ãƒ³ãƒãƒ¼ãƒˆ/ã‚¯ãƒªã‚¢ï¼‰ ---
    function DataManageModal({ open, onClose, positions, setPositions }) {
      if (!open) return null;
      return (
        <div className="fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50">
          <div className="bg-white p-6 rounded shadow w-full max-w-md">
            <h2 className="font-bold mb-3">ãƒ‡ãƒ¼ã‚¿ç®¡ç†</h2>
            <div className="space-y-2">
              <button className="bg-blue-100 px-3 py-1 rounded w-full" onClick={()=>{
                navigator.clipboard.writeText(JSON.stringify(positions));
                alert("ãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼ˆãƒ¡ãƒ¢å¸³ç­‰ã«è²¼ä»˜å¯ï¼‰");
              }}>ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
              <input type="file" className="w-full" accept=".json" onChange={e=>{
                const file = e.target.files[0];
                if (file) {
                  const reader = new FileReader();
                  reader.onload = ev => {
                    try {
                      setPositions(JSON.parse(ev.target.result));
                      alert('ãƒ‡ãƒ¼ã‚¿èª­è¾¼å®Œäº†');
                      onClose();
                    } catch { alert('èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼'); }
                  };
                  reader.readAsText(file);
                }
              }}/>
              <button className="bg-red-100 px-3 py-1 rounded w-full" onClick={()=>{
                if (window.confirm('å…¨ãƒ‡ãƒ¼ã‚¿ã‚’åˆæœŸåŒ–ã—ã¾ã™ã€‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ')) setPositions([]);
              }}>å…¨ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªã‚¢</button>
            </div>
            <button className="mt-4 px-4 py-1 rounded bg-gray-200" onClick={onClose}>é–‰ã˜ã‚‹</button>
          </div>
        </div>
      );
    }

    // --- å€™è£œè€…ã‚«ãƒ¼ãƒ‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆãƒ‰ãƒ©ãƒƒã‚°å¯¾å¿œï¼‰ ---
    function CandidateCard({ candidate, onEdit, onDelete, onDragStart, onDragEnd, draggable }) {
      return (
        <div
          draggable={draggable}
          onDragStart={onDragStart}
          onDragEnd={onDragEnd}
          className="bg-white p-3 rounded border draggable mb-1"
        >
          <div className="font-medium text-sm flex items-center justify-between">
            {candidate.name}
            <span>
              <button className="text-xs text-blue-600" onClick={onEdit}>ç·¨é›†</button>
              <button className="text-xs text-red-600 ml-2" onClick={onDelete}>å‰Šé™¤</button>
            </span>
          </div>
          <div className="text-xs text-gray-500 mt-1">{new Date(candidate.createdAt).toLocaleDateString()}</div>
        </div>
      );
    }

    // --- ã‚«ãƒ³ãƒãƒ³ï¼ˆãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—å«ã‚€ï¼‰ ---
    function KanbanBoard({ position, onUpdate }) {
      // ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«
      const [modal, setModal] = useState({ open: false, candidate: null, phaseId: null });

      // ãƒ‰ãƒ©ãƒƒã‚°ç”¨
      const [dragged, setDragged] = useState(null);

      // å€™è£œè€…è¿½åŠ /ç·¨é›†
      const handleSave = (candidate, phaseId) => {
        onUpdate(draft => {
          const pos = draft.find(p=>p.id===position.id);
          pos.phases.forEach(phase=>{
            phase.candidates = phase.candidates.filter(c=>c.id!==candidate.id);
          });
          const phase = pos.phases.find(p=>p.id===phaseId);
          if(candidate.history==null) candidate.history=[];
          if(!candidate.history.length || candidate.history[candidate.history.length-1]?.phase!==phase.name)
            candidate.history.push({ phase: phase.name, at: new Date().toISOString() });
          phase.candidates.push(candidate);
        });
      };

      // å€™è£œè€…å‰Šé™¤
      const handleDelete = (cid) => {
        onUpdate(draft=>{
          const pos = draft.find(p=>p.id===position.id);
          pos.phases.forEach(phase=>phase.candidates=phase.candidates.filter(c=>c.id!==cid));
        });
      };

      // ãƒ‰ãƒ©ãƒƒã‚°é–‹å§‹
      const handleDragStart = (phaseId, cid) => {
        setDragged({phaseId, cid});
      };

      // ãƒ‰ãƒ­ãƒƒãƒ—
      const handleDrop = (phaseId) => {
        if (!dragged) return;
        const candidate = position.phases.find(p=>p.id===dragged.phaseId).candidates.find(c=>c.id===dragged.cid);
        handleSave(candidate, phaseId);
        setDragged(null);
      };

      // ãƒ•ã‚§ãƒ¼ã‚ºç·¨é›†ãƒ»ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«
      const [phaseEdit, setPhaseEdit] = useState(false);
      const [fieldEdit, setFieldEdit] = useState(false);
      const [showHistory, setShowHistory] = useState(null);

      return (
        <div>
          <div className="flex mb-2 justify-between">
            <span className="font-bold">{position.name} - ã‚«ãƒ³ãƒãƒ³</span>
            <div className="flex space-x-2">
              <button className="bg-blue-100 rounded px-2 py-1 text-xs" onClick={()=>setPhaseEdit(true)}>ãƒ•ã‚§ãƒ¼ã‚ºç·¨é›†</button>
              <button className="bg-green-100 rounded px-2 py-1 text-xs" onClick={()=>setFieldEdit(true)}>ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰</button>
            </div>
          </div>
          <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2">
            {position.phases.map(phase => (
              <div key={phase.id} className="bg-gray-50 rounded p-2 min-h-[150px]"
                onDragOver={e=>{e.preventDefault();}}
                onDrop={e=>{e.preventDefault();handleDrop(phase.id);}}
              >
                <div className="flex items-center space-x-2 mb-2">
                  <div className={`w-3 h-3 rounded-full ${phase.color}`}></div>
                  <span className="font-semibold">{phase.name}</span>
                  <span className="text-xs text-gray-400">({phase.candidates.length})</span>
                </div>
                <div>
                  {phase.candidates.map(candidate=>(
                    <CandidateCard key={candidate.id}
                      candidate={candidate}
                      onEdit={()=>setModal({open:true,candidate,phaseId:phase.id})}
                      onDelete={()=>handleDelete(candidate.id)}
                      draggable={true}
                      onDragStart={e=>handleDragStart(phase.id, candidate.id)}
                      onDragEnd={()=>setDragged(null)}
                    />
                  ))}
                  {phase.candidates.length===0 && <div className="text-xs text-gray-400 py-3 text-center">å€™è£œè€…ãªã—</div>}
                </div>
                <button className="mt-1 bg-blue-100 px-2 py-1 text-xs rounded w-full"
                  onClick={()=>setModal({open:true, candidate:null, phaseId:phase.id})}
                >ï¼‹è¿½åŠ </button>
              </div>
            ))}
          </div>
          <div className="mt-4">
            <span className="font-bold">å±¥æ­´ç¢ºèªï¼š</span>
            {position.phases.map(phase=>phase.candidates).flat().map(candidate=>(
              <button key={candidate.id} className="text-xs underline mr-2"
                onClick={()=>setShowHistory(candidate)}>{candidate.name}</button>
            ))}
          </div>
          {/* å±¥æ­´ãƒ¢ãƒ¼ãƒ€ãƒ« */}
          {showHistory && (
            <div className="fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50">
              <div className="bg-white p-6 rounded shadow w-full max-w-xs">
                <h3 className="font-bold mb-2">{showHistory.name}ã•ã‚“ã®ç§»å‹•å±¥æ­´</h3>
                <ul className="text-xs">
                  {showHistory.history?.map((h,i)=>(
                    <li key={i}>{h.phase} ({new Date(h.at).toLocaleString()})</li>
                  ))}
                </ul>
                <button className="mt-4 px-4 py-1 rounded bg-gray-200" onClick={()=>setShowHistory(null)}>é–‰ã˜ã‚‹</button>
              </div>
            </div>
          )}
          <CandidateModal
            open={modal.open}
            onClose={()=>setModal({open:false,candidate:null,phaseId:null})}
            onSave={cand=>handleSave(cand, modal.phaseId)}
            candidate={modal.candidate}
            customFields={position.customFields}
          />
          <PhaseEditModal
            open={phaseEdit}
            onClose={()=>setPhaseEdit(false)}
            phases={position.phases}
            onSave={newPhases=>{
              onUpdate(draft=>{
                const pos = draft.find(p=>p.id===position.id);
                // æ—¢å­˜ãƒ•ã‚§ãƒ¼ã‚ºåãŒå¤‰æ›´orå‰Šé™¤orè¿½åŠ ã•ã‚Œã¦ã„ã‚‹å ´åˆã€å€™è£œè€…ã‚’æ®‹ã™ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆæ–°è¦ã¯ç©ºé…åˆ—ï¼‰
                let old = Object.fromEntries(pos.phases.map(p=>[p.id,p.candidates]));
                pos.phases = newPhases.map(p=>({...p, candidates:old[p.id]||[]}));
              });
            }}
          />
          <FieldEditModal
            open={fieldEdit}
            onClose={()=>setFieldEdit(false)}
            fields={position.customFields}
            onSave={fields=>{
              onUpdate(draft=>{
                const pos = draft.find(p=>p.id===position.id);
                pos.customFields = fields;
              });
            }}
          />
        </div>
      );
    }

    // --- ãƒ¡ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ  ---
    function RecruitmentSystem() {
      // å…¨ä½“ãƒ‡ãƒ¼ã‚¿
      const [positions, setPositions] = useState([]);
      const [selected, setSelected] = useState(null);

      // ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–
      useEffect(() => {
        try {
          const saved = localStorage.getItem('salowin_recruitment_data');
          if(saved) setPositions(JSON.parse(saved));
          else loadDefault();
        } catch { loadDefault(); }
      }, []);
      useEffect(() => {
        localStorage.setItem('salowin_recruitment_data', JSON.stringify(positions));
      }, [positions]);
      const loadDefault = () => {
        setPositions([
          {id:1, name:'ãƒã‚¤ãƒ«æœ¬éƒ¨äººå“¡', department:'ãƒªãƒ†ãƒ¼ãƒ«äº‹æ¥­éƒ¨', hiringManager:'ç”°ä¸­', hiringAttribute:'experienced',
            phases: DEFAULT_RECRUITMENT_PHASES.map(ph=>({...ph, candidates:[]})),
            customFields: [
              {id:'contact', name:'é€£çµ¡å…ˆ', type:'email', required:true},
              {id:'experience', name:'çµŒé¨“å¹´æ•°', type:'number', required:false}
            ]
          }
        ]);
      };

      // ãƒ‡ãƒ¼ã‚¿æ›´æ–°ï¼ˆã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ã ãŒdraftã§ç›´æ„Ÿçš„ã«æ›¸ã‘ã‚‹å½¢ï¼‰
      const updatePositions = fn => setPositions(prev=>{
        const draft = JSON.parse(JSON.stringify(prev));
        fn(draft);
        return draft;
      });

      // ãƒã‚¸ã‚·ãƒ§ãƒ³è¿½åŠ ãƒ»å‰Šé™¤
      const addPosition = () => {
        setPositions(prev=>[...prev,{
          id:uuid(),
          name:'æ–°ãƒã‚¸ã‚·ãƒ§ãƒ³',
          department:'',
          hiringManager:'',
          hiringAttribute:'none',
          phases: DEFAULT_RECRUITMENT_PHASES.map(ph=>({...ph,candidates:[]})),
          customFields: []
        }]);
      };
      const deletePosition = id => {
        if(window.confirm('ã“ã®ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ'))
          setPositions(prev=>prev.filter(p=>p.id!==id));
      };

      // ãƒ‡ãƒ¼ã‚¿ç®¡ç†
      const [dataModal, setDataModal] = useState(false);

      return (
        <div className="p-6 bg-gray-100 min-h-screen">
          <div className="flex items-center justify-between mb-6">
            <h1 className="text-2xl font-bold">æ¡ç”¨ãƒã‚¸ã‚·ãƒ§ãƒ³ç®¡ç†</h1>
            <div>
              <button className="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg mr-2" onClick={addPosition}>ï¼‹æ–°è¦ãƒã‚¸ã‚·ãƒ§ãƒ³</button>
              <button className="bg-gray-400 text-white px-3 py-2 rounded" onClick={()=>setDataModal(true)}>ãƒ‡ãƒ¼ã‚¿ç®¡ç†</button>
            </div>
          </div>
          <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {positions.map(pos=>(
              <div key={pos.id} className="bg-white rounded-lg shadow-sm border p-6 hover:shadow-md relative">
                <div onClick={()=>setSelected(pos)} className="cursor-pointer">
                  <h3 className="font-semibold text-lg mb-1">{pos.name}</h3>
                  <div className="text-sm text-gray-500 mb-1">{pos.department}</div>
                  <div className="text-xs text-gray-400 mb-1">è²¬ä»»è€…: {pos.hiringManager||'æœªè¨­å®š'}</div>
                  <div className="text-xs text-gray-400 mb-1">å±æ€§: {HIRING_ATTRIBUTES.find(a=>a.value===pos.hiringAttribute)?.label||''}</div>
                </div>
                <button className="text-xs text-red-600 absolute top-2 right-2" onClick={()=>deletePosition(pos.id)}>å‰Šé™¤</button>
              </div>
            ))}
          </div>
          {selected && (
            <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
              <div className="bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                <div className="flex items-center justify-between mb-4">
                  <h2 className="text-xl font-bold">{selected.name} ã‚«ãƒ³ãƒãƒ³</h2>
                  <button className="text-gray-500 hover:text-gray-700" onClick={()=>setSelected(null)}>âœ•</button>
                </div>
                <KanbanBoard position={selected} onUpdate={updatePositions}/>
              </div>
            </div>
          )}
          <DataManageModal open={dataModal} onClose={()=>setDataModal(false)} positions={positions} setPositions={setPositions}/>
        </div>
      );
    }

    // --- èªè¨¼ãªã©ã¯ç¾çŠ¶é€šã‚Š ---
    const App = () => {
      const [isAuthenticated, setIsAuthenticated] = useState(()=>{
        try { return localStorage.getItem('salowin_auth_status')==='true'; }
        catch { return false; }
      });
      const handleLogin = () => {
        setIsAuthenticated(true);
        try { localStorage.setItem('salowin_auth_status','true'); }
        catch {}
      };
      const handleLogout = () => {
        setIsAuthenticated(false);
        try { localStorage.removeItem('salowin_auth_status'); }
        catch {}
      };
      if (!isAuthenticated) {
        return <LoginComponent onLogin={handleLogin}/>;
      }
      return (
        <div>
          <div className="absolute top-4 right-4 z-50 flex items-center space-x-2">
            <div className="bg-green-100 text-green-800 px-3 py-1 rounded text-xs">ğŸ’¾ ãƒ‡ãƒ¼ã‚¿è‡ªå‹•ä¿å­˜ä¸­</div>
            <button onClick={handleLogout} className="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded text-sm">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
          </div>
          <RecruitmentSystem />
        </div>
      );
    };

    ReactDOM.render(<App/>, document.getElementById('root'));
  </script>
</body>
</html>
